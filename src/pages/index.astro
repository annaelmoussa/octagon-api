---
import Layout from '@layouts/Layout.astro'
import Link from '@components/Link.astro'
import data from '@db/rankings.json'
---

<Layout title='UFC API'>
  <main>
    <h1>Welcome to <span class='text-gradient'>UFC API</span></h1>
    <h2>Categories</h2>
    <section>
      {
        data.map(({ id, categoryName, champion }) => {
          // const { id, championName } = champion
          const imgPath = champion.id ? `${champion.id}.webp` : 'fighter-placeholder.svg'
          const championName = champion.championName ? champion.championName : 'Vacant'
          return (
            <div class='card'>
              <a href={`/division/${id}`}>
                <h1 class='card__title'>{categoryName}</h1>
                <h2 class='card__subtitle'>ðŸ‘‘ {championName}</h2>
                <img
                  src={`/fighters/${imgPath}`}
                  alt='Peleador'
                  loading='lazy'
                />
              </a>
            </div>
          )
        })
      }
    </section>
  </main>
</Layout>

<style>
  section {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .card {
    padding: 1rem 1rem 0 1rem;
    background-color: rgb(211, 233, 241);
    border-radius: 8px;
  }

  .card a {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
  }

  .card__title {
    color: black;
  }

  .card__subtitle {
    color: rgb(126, 126, 126);
  }

  img {
    width: 200px;
  }
</style>
<script is:inline>
  console.log('ðŸ¥Š Welcome to the unofficial UFC API')
</script>
